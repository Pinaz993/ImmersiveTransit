execute as @e[type=minecraft:experience_bottle] at @s if entity @e[distance=0..1,nbt={Item:{id:"minecraft:tnt",tag:{display:{Name:'{"text":"GateBuster"}'}}}}] run execute at @e[nbt={Item:{id:"minecraft:tnt",tag:{display:{Name:'{"text":"GateBuster"}'}}}}] run summon firework_rocket ~ ~.25 ~ {Tags:["immersive_transit_gate_buster_explosive"],LifeTime:1,FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Flight:1,Explosions:[{Type:0,Flicker:0,Trail:0,Colors:[I;14602026,15435844,15790320],FadeColors:[I;11743532]},{Type:0,Flicker:0,Trail:0,Colors:[I;14602026,15435844,15790320],FadeColors:[I;11743532]},{Type:0,Flicker:0,Trail:0,Colors:[I;14602026,15435844,15790320],FadeColors:[I;11743532]}]}}}}
execute as @e[type=minecraft:firework_rocket,tag=immersive_transit_gate_buster_explosive] at @s run execute as @e[type=immersive_portals:portal,distance=0..5,limit=1,sort=nearest] run portal eradicate_portal_cluster
execute as @e[type=minecraft:firework_rocket,tag=immersive_transit_gate_buster_explosive] at @s run kill @e[distance=0..3,nbt={Item:{id:"minecraft:tnt",tag:{display:{Name:'{"text":"GateBuster"}'}}}}]
execute as @e[type=minecraft:firework_rocket,tag=immersive_transit_gate_buster_explosive] at @s run kill @e[distance=0..3,type=minecraft:experience_bottle]